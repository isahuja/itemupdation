/*! task_ 15-06-2017 */

var task={data:{person:[{name:"inder",designation:"Frontend",age:23},{name:"jeet",designation:"Backend",age:24},{name:"singh",designation:"Devops",age:25}]},getCookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},createCookie:function(a,b,c){document.cookie=a+"="+b+"; path=/"},manipulateData:function(a){const b=task.data.person.slice(),c={person:[]},d=0;if(a){for(var d in b)c.person.push(b[d]),c.person[d].age=parseInt(c.person[d].age.toString().split("").reverse().join("")),console.log(c);console.log(c.person.concat(task.data.person))}else{task.createList();var e=setInterval(function(){d<task.data.person.length?(task.data.person[d].age=parseInt(task.data.person[d].age.toString().split("").reverse().join("")),c.person=[],c.person.push(task.data.person[d]),task.createList(c),task.createCookie("person",d)):clearInterval(e),d++},2e3)}},updateCount:function(a){$(".count").text(a)},checkCookie:function(){var a=task.getCookie("person");a?task.manipulateData(a):task.manipulateData()},createList:function(a){var b=this,c=Handlebars.compile($("#listitem").html());templateHtml=c(a?a:b.data),count=0,$("#list").append(templateHtml),this.updateCount(a?parseInt($(".count").text())+a.person.length:task.data.person.length)},init:function(){this.checkCookie()}};!function(){task.init()}();